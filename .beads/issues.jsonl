{"id":"react-router-starter-p5l","title":"React Router Starter Improvements","description":"Update react-router-starter to be a comprehensive prototype starting point with best practices from reportory, Storybook, forms library, and testing examples.","status":"open","priority":2,"issue_type":"epic","owner":"jake@lambdacurry.dev","created_at":"2026-02-02T00:27:56.237383-06:00","created_by":"Jake Ruesink","updated_at":"2026-02-02T00:27:56.237383-06:00"}
{"id":"react-router-starter-p5l.1","title":"Update Dependencies","description":"Update all dependencies to latest stable versions. Run bun update, check for breaking changes, ensure everything builds and types check.","status":"closed","priority":2,"issue_type":"task","owner":"jake@lambdacurry.dev","created_at":"2026-02-02T00:28:12.365037-06:00","created_by":"Jake Ruesink","updated_at":"2026-02-02T00:37:38.268354-06:00","closed_at":"2026-02-02T00:37:38.268355-06:00","labels":["engineering"],"dependencies":[{"issue_id":"react-router-starter-p5l.1","depends_on_id":"react-router-starter-p5l","type":"parent-child","created_at":"2026-02-02T00:28:12.365537-06:00","created_by":"Jake Ruesink"}],"comments":[{"id":1,"issue_id":"react-router-starter-p5l.1","author":"Jake Ruesink","text":"Delegating to Engineering: this task requires running bun update, checking for breaking changes, and verifying build/typecheck—implementation and verification work. Added routing label `engineering` so Code Wizard can pick it up. Acceptance criteria: update all dependencies to latest stable, run bun update, check breaking changes, ensure build and types check pass.\n\nSigned: Project Manager Agent — Chaos Coordinator","created_at":"2026-02-02T06:30:36Z"},{"id":2,"issue_id":"react-router-starter-p5l.1","author":"Jake Ruesink","text":"Commit: 6fdb415 - chore(deps): update all dependencies to latest stable [skip ci]\n\nSummary:\n- Ran `bun update`: React Router 7.8→7.13, React 19.1→19.2, turbo 2.5→2.8, vite 6.3→6.4, typescript 5.9.2→5.9.3, @lambdacurry/forms, zod, etc.\n- Resolutions: single vite (6.4.1), react/react-dom 19.2.4, react-router-dom/react-router 7.13.0.\n- vitest.config.ts: type cast for vite-tsconfig-paths plugin to satisfy vitest config (vite vs vitest’s nested vite type mismatch).\n- biome.json: added !**/build/** and !**/dist/** to includes so lint does not run on build output.\n- Added react-router-dom@7.13.0 so tests use the same Router context as remix-hook-form (useHref); tests were failing with “useHref() may be used only in the context of a \u003cRouter\u003e component” until router version was unified.\n\nVerification: typecheck, build, lint, test:ci all pass.\n\nRevision Learning:\n**Category**: Process\n**Priority**: Medium\n**Issue**: After `bun update`, vitest and root vite had duplicate vite installs (vitest/vite 6.3.5 vs root 6.4.1), causing vitest.config.ts typecheck to fail; add-todo tests failed due to react-router-dom nesting its own react-router (7.8.0) so Router context did not match remix-hook-form’s useHref.\n**Recommendation**: Document in CONTRIBUTING or AGENTS.md: (1) use resolutions for vitest/vite and vite-node/vite when upgrading vite to avoid typecheck failures; (2) add react-router-dom as direct dep at same major as react-router and use it in tests that render components using remix-hook-form/useHref.\n**Files/Rules Affected**: package.json (resolutions, react-router-dom), apps/todo-app/vitest.config.ts, biome.json\n\nSigned: Engineering Agent — Code Wizard\n","created_at":"2026-02-02T06:37:52Z"}]}
{"id":"react-router-starter-p5l.2","title":"Setup Storybook with React Router","description":"Add Storybook with proper React Router mocking. Reference: ~/projects/reportory/.cursorrules/storybook.md\n\nTasks:\n- Install Storybook for Vite/React\n- Configure mock react-router decorators\n- Create example stories for existing components\n- Add Storybook scripts to package.json","status":"closed","priority":2,"issue_type":"task","owner":"jake@lambdacurry.dev","created_at":"2026-02-02T00:28:12.450694-06:00","created_by":"Jake Ruesink","updated_at":"2026-02-02T00:44:25.534841-06:00","closed_at":"2026-02-02T00:44:25.534842-06:00","labels":["engineering"],"dependencies":[{"issue_id":"react-router-starter-p5l.2","depends_on_id":"react-router-starter-p5l","type":"parent-child","created_at":"2026-02-02T00:28:12.451163-06:00","created_by":"Jake Ruesink"},{"issue_id":"react-router-starter-p5l.2","depends_on_id":"react-router-starter-p5l.1","type":"blocks","created_at":"2026-02-02T00:28:22.56616-06:00","created_by":"Jake Ruesink"}],"comments":[{"id":3,"issue_id":"react-router-starter-p5l.2","author":"Jake Ruesink","text":"Delegating to **Code Wizard (engineering)** — this task is implementation work: install Storybook (Vite/React), configure React Router mocks, add example stories, and package.json scripts. Reference doc `~/projects/reportory/.cursorrules/storybook.md` was not in this workspace; use Storybook + React Router mocking best practices (e.g. decorators for Link, useNavigate, Navigate) and the acceptance bullets above. App to target: `apps/todo-app` (existing components under `app/components/`). Signed: Project Manager Agent — Chaos Coordinator","created_at":"2026-02-02T06:38:55Z"},{"id":4,"issue_id":"react-router-starter-p5l.2","author":"Jake Ruesink","text":"Commit: 496de2e - feat(todo-app): add Storybook with React Router mocking (react-router-starter-p5l.2)\n\nSummary:\n- Installed Storybook 8.x for Vite/React in todo-app (storybook, @storybook/react-vite, @storybook/react, addons, @storybook/test, react-router-dom).\n- Configured .storybook/main.ts with stories glob, viteFinal to use a dedicated .storybook/vite.config.ts (no React Router plugin) so Storybook build succeeds.\n- Configured .storybook/preview.tsx with React Router mock decorators: withRouter (createMemoryRouter + RouterProvider) and withTodoProvider (TodoProvider), plus app globals.css.\n- Created example stories: AddTodo (Default), TodoItem (Default, Completed), TodoFilters (All, Active, WithCompleted) using CSF3 and fn() for actions.\n- Added scripts: storybook, build-storybook to package.json. Ignored storybook-static in biome.json.\n\nVerification: typecheck, lint, test:run, build-storybook passed.\n\nRevision Learning:\n**Category**: Process\n**Priority**: Low\n**Issue**: Storybook init (npx storybook init) failed due to npm override conflicts in monorepo; app Vite config includes @react-router/dev plugin which throws when used by Storybook's Vite build.\n**Recommendation**: Document that Storybook must use a separate Vite config (e.g. .storybook/vite.config.ts) and viteFinal to set configFile, so the React Router plugin is not loaded. Consider adding this to project docs or .cursorrules for future Storybook setups.\n**Files/Rules Affected**: apps/todo-app/.storybook/main.ts, .storybook/vite.config.ts\n\nSigned: Engineering Agent — Code Wizard\n","created_at":"2026-02-02T06:44:41Z"}]}
{"id":"react-router-starter-p5l.3","title":"Lambda Curry Forms Integration","description":"Add form examples using @lambdacurry/forms best practices. Reference: ~/projects/reportory/.cursorrules/lambda-curry-forms.md\n\nTasks:\n- Create example form components\n- Show validation patterns with zod\n- Demonstrate action handlers\n- Add Storybook stories for forms","status":"closed","priority":2,"issue_type":"task","owner":"jake@lambdacurry.dev","created_at":"2026-02-02T00:28:12.522198-06:00","created_by":"Jake Ruesink","updated_at":"2026-02-02T00:51:15.661769-06:00","closed_at":"2026-02-02T00:51:15.661771-06:00","labels":["engineering"],"dependencies":[{"issue_id":"react-router-starter-p5l.3","depends_on_id":"react-router-starter-p5l","type":"parent-child","created_at":"2026-02-02T00:28:12.522668-06:00","created_by":"Jake Ruesink"},{"issue_id":"react-router-starter-p5l.3","depends_on_id":"react-router-starter-p5l.1","type":"blocks","created_at":"2026-02-02T00:28:22.616868-06:00","created_by":"Jake Ruesink"}],"comments":[{"id":5,"issue_id":"react-router-starter-p5l.3","author":"Jake Ruesink","text":"**Delegation (Project Manager → Engineering)**\n\nThis task requires implementation work: example form components, Zod validation, action handlers, and Storybook stories. The `engineering` label has been added so the Code Wizard (engineering agent) can implement it.\n\n**Scope (acceptance criteria):**\n1. Create example form components using @lambdacurry/forms\n2. Show validation patterns with Zod\n3. Demonstrate action handlers (e.g. `getValidatedFormData`, route action)\n4. Add Storybook stories for the form(s)\n\n**Reference (in this repo):** `.cursorrules/lambda-curry-forms.mdc` — use this for @lambdacurry/forms + remix-hook-form + Zod patterns. (The task referenced `~/projects/reportory/.cursorrules/lambda-curry-forms.md`; the canonical content is in this repo.)\n\n**Context:** `apps/todo-app` already has `@lambdacurry/forms`, `zod`, `react-hook-form`, `@hookform/resolvers`, and `remix-hook-form`. Add a small example form (e.g. login or contact) and a route with an action that uses `getValidatedFormData`; add Storybook story/ies following existing patterns (e.g. `add-todo.stories.tsx`).\n\nSigned: Project Manager Agent — Chaos Coordinator\n","created_at":"2026-02-02T06:46:35Z"},{"id":6,"issue_id":"react-router-starter-p5l.3","author":"Jake Ruesink","text":"Commit: 52091b9 - feat(todo-app): add Lambda Curry forms example (react-router-starter-p5l.3)\n\nSummary:\n- Added ContactForm component using @lambdacurry/forms, zodResolver, RemixFormProvider, useRemixForm, TextField, FormError, Button. Supports route usage (fetcher + submitConfig) and Storybook (onSubmit callback).\n- Added contact route with action using getValidatedFormData\u003cContactFormData\u003e(request, zodResolver(contactFormSchema)); returns errors or message.\n- Added contact-form.stories.tsx (Default story with onSubmit: fn()).\n- Added contact-form.test.tsx (render, valid submit, empty validation, short message validation).\n- Registered /contact route; linked \"Contact form example\" from home.\n\nVerification: typecheck, test:run (20 tests), lint, build, build-storybook passed.\n\nRevision Learning:\n**Category**: Rules\n**Priority**: Low\n**Issue**: Fetcher prop type must be FetcherWithComponents (from react-router) not Fetcher when passing useFetcher() result to remix-hook-form.\n**Recommendation**: Document in lambda-curry-forms.mdc or type comments that route forms should type fetcher as FetcherWithComponents\u003cT\u003e for useRemixForm.\n**Files/Rules Affected**: .cursorrules/lambda-curry-forms.mdc\n\nSigned: Engineering Agent — Code Wizard\n","created_at":"2026-02-02T06:51:14Z"}]}
{"id":"react-router-starter-p5l.4","title":"Testing Examples","description":"Add comprehensive testing examples. Reference: ~/projects/reportory/.cursorrules/testing-best-practices.md\n\nTasks:\n- Unit test examples for utilities\n- Component test examples with react-router mocking\n- Integration test patterns\n- Ensure vitest config is optimal","status":"closed","priority":2,"issue_type":"task","owner":"jake@lambdacurry.dev","created_at":"2026-02-02T00:28:12.593869-06:00","created_by":"Jake Ruesink","updated_at":"2026-02-02T00:57:55.99559-06:00","closed_at":"2026-02-02T00:57:55.995591-06:00","labels":["engineering"],"dependencies":[{"issue_id":"react-router-starter-p5l.4","depends_on_id":"react-router-starter-p5l","type":"parent-child","created_at":"2026-02-02T00:28:12.594339-06:00","created_by":"Jake Ruesink"},{"issue_id":"react-router-starter-p5l.4","depends_on_id":"react-router-starter-p5l.1","type":"blocks","created_at":"2026-02-02T00:28:22.667929-06:00","created_by":"Jake Ruesink"}],"comments":[{"id":7,"issue_id":"react-router-starter-p5l.4","author":"Jake Ruesink","text":"**Delegation (Project Manager → Engineering)**\n\nTask react-router-starter-p5l.4 requires implementation work: adding test examples, patterns, and vitest tuning. Label set to `engineering` so Code Wizard can implement end-to-end.\n\n**Reference:** Task description points to `~/projects/reportory/.cursorrules/testing-best-practices.md`. That path is outside this workspace (read failed). If you have reportory locally, use it; otherwise use existing tests in this repo as the source of truth and align with common Vitest + React Testing Library + React Router 7 patterns.\n\n**Current state (for implementation):**\n- **todo-app:** `vitest.config.ts` (globals, jsdom, setupFiles), `test/setup.ts` (jest-dom, cleanup). Component tests: `add-todo.test.tsx`, `contact-form.test.tsx` (both use `createMemoryRouter` + `RouterProvider`). Lib tests: `todo-context.test.tsx` (TodoProvider, useTodoStore, getFilteredTodos).\n- **packages/utils:** `cn.test.ts`, `types.test.ts` (unit examples).\n- **packages/ui:** `button.test.tsx` (component example).\n\n**Acceptance criteria to satisfy:**\n1. **Unit test examples for utilities** — Add or document clear utility-test examples (e.g. in app or packages).\n2. **Component test examples with react-router mocking** — Ensure at least one canonical example (or shared helper) showing Router mocking (createMemoryRouter / RouterProvider or equivalent) and document in code or README.\n3. **Integration test patterns** — Add at least one integration-style example (e.g. route + loader, or full flow through a route).\n4. **Vitest config optimal** — Review `apps/todo-app/vitest.config.ts` (and packages if needed): include/exclude, coverage if desired, env, and any React Router–specific settings.\n\n**Verification:** Run `npm run test:run` (or `test:ci`) in todo-app and any packages with tests; fix regressions. Update task status and add Revision Learning comment when done.\n\nSigned: Project Manager Agent — Chaos Coordinator\n","created_at":"2026-02-02T06:52:18Z"},{"id":8,"issue_id":"react-router-starter-p5l.4","author":"Jake Ruesink","text":"Summary:\n- Unit: Added app/lib/format.ts (slugify) + app/lib/__tests__/format.test.ts; TESTING.md references packages/utils (cn, types) and packages/ui (button) as additional unit examples.\n- Component: Extracted renderWithRouter to test/test-utils.tsx; add-todo and contact-form tests use it. Documented in TESTING.md.\n- Integration: Added app/routes/__tests__/home.integration.test.tsx (Todo flow: TodoProvider + AddTodo + TodoItem + getFilteredTodos). Full-route integration with Link requires app router or E2E; documented in TESTING.md.\n- Vitest: include app/**/*.{test,spec}.{ts,tsx}, exclude node_modules/build/Storybook, env NODE_ENV=test, testTimeout 10s, optional coverage note.\n\nVerification: npm run test:run (28 tests), typecheck, lint (todo-app + turbo). All passed.\n\nCommit: 4e42998 - test(todo-app): add comprehensive testing examples (bd react-router-starter-p5l.4)\n\nRevision Learning:\n**Category**: Process\n**Priority**: Low\n**Issue**: Full Home route integration (with Link) failed under createMemoryRouter + RouterProvider from react-router-dom (Link context null) and from react-router (useHref/ContactForm context missing in component tests). Two-context behavior may be version- or package-resolution dependent.\n**Recommendation**: Document that full-route integration tests with Link/navigation are best done via E2E or mounting the real app router; keep integration examples focused on provider + components flow without Link.\n**Files/Rules Affected**: apps/todo-app/TESTING.md, app/routes/__tests__/home.integration.test.tsx\n\nSigned: Engineering Agent — Code Wizard\n","created_at":"2026-02-02T06:58:06Z"}]}
{"id":"react-router-starter-p5l.5","title":"Setup AI Rules","description":"Copy and adapt relevant ai-rules from reportory.\n\nTasks:\n- Copy react-router.md\n- Copy storybook.md\n- Copy lambda-curry-forms.md\n- Copy testing-best-practices.md\n- Create project-specific 00-project-context.md\n- Update .cursorrules structure","status":"in_progress","priority":2,"issue_type":"task","owner":"jake@lambdacurry.dev","created_at":"2026-02-02T00:28:12.666496-06:00","created_by":"Jake Ruesink","updated_at":"2026-02-02T00:58:19.15266-06:00","dependencies":[{"issue_id":"react-router-starter-p5l.5","depends_on_id":"react-router-starter-p5l","type":"parent-child","created_at":"2026-02-02T00:28:12.666979-06:00","created_by":"Jake Ruesink"},{"issue_id":"react-router-starter-p5l.5","depends_on_id":"react-router-starter-p5l.2","type":"blocks","created_at":"2026-02-02T00:28:22.719304-06:00","created_by":"Jake Ruesink"},{"issue_id":"react-router-starter-p5l.5","depends_on_id":"react-router-starter-p5l.3","type":"blocks","created_at":"2026-02-02T00:28:22.770119-06:00","created_by":"Jake Ruesink"},{"issue_id":"react-router-starter-p5l.5","depends_on_id":"react-router-starter-p5l.4","type":"blocks","created_at":"2026-02-02T00:28:22.82133-06:00","created_by":"Jake Ruesink"}]}
{"id":"react-router-starter-p5l.6","title":"Biome Config Review","description":"Review and update Biome configuration.\n\nTasks:\n- Check biome version (currently 2.2.0)\n- Review rules for best practices\n- Ensure lint/format scripts work\n- Run full lint pass and fix issues","status":"open","priority":2,"issue_type":"task","owner":"jake@lambdacurry.dev","created_at":"2026-02-02T00:28:12.739727-06:00","created_by":"Jake Ruesink","updated_at":"2026-02-02T00:28:12.739727-06:00","dependencies":[{"issue_id":"react-router-starter-p5l.6","depends_on_id":"react-router-starter-p5l","type":"parent-child","created_at":"2026-02-02T00:28:12.740178-06:00","created_by":"Jake Ruesink"},{"issue_id":"react-router-starter-p5l.6","depends_on_id":"react-router-starter-p5l.5","type":"blocks","created_at":"2026-02-02T00:28:22.874077-06:00","created_by":"Jake Ruesink"}]}
{"id":"react-router-starter-p5l.7","title":"Update Documentation","description":"Update README and documentation.\n\nTasks:\n- Update README with new features\n- Add usage examples\n- Document Storybook commands\n- Document testing patterns","status":"open","priority":2,"issue_type":"task","owner":"jake@lambdacurry.dev","created_at":"2026-02-02T00:28:12.81142-06:00","created_by":"Jake Ruesink","updated_at":"2026-02-02T00:28:12.81142-06:00","dependencies":[{"issue_id":"react-router-starter-p5l.7","depends_on_id":"react-router-starter-p5l","type":"parent-child","created_at":"2026-02-02T00:28:12.811884-06:00","created_by":"Jake Ruesink"},{"issue_id":"react-router-starter-p5l.7","depends_on_id":"react-router-starter-p5l.6","type":"blocks","created_at":"2026-02-02T00:28:22.927316-06:00","created_by":"Jake Ruesink"}]}
